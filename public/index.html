<html lang="en">
  <head>
    <title>Northwind Sales Team</title>
    <link href="/bootstrap/css/bootstrap.css" rel="stylesheet" />
    <link href="style.css" rel="stylesheet">
    <script src="/angular/angular.js"></script>
    <script src="./scripts/index.js"></script>
    <script src="./scripts/sales.controllers.js"></script>
    <script src="./scripts/sales.factories.js"></script>
  </head>
  <body>
    <div id="main" class="container" ng-app="SalesTeam">
      <div class="col-sm-8" ng-controller="FormController as form">
        <h2>NorthWind Sales Team</h2>
        <div ng-show="displayError" class="alert alert-danger">
          {{errorMessage}}
        </div>
        <form class="form-inline" role="form">
            <div class="row">
              <div class="col-sm-8 col-xs-8">
                <input class="form-inline" style="width:100%" type="text" ng-model="form.name" placeholder="employee name">
              </div>
            </div>
            <div class="row">
              <div class="col-sm-2 col-xs-2" ng-repeat="region in form.regions()">
                <button ng-click="form.toggleRegion(region)" ng-disabled="form.newRegionCount() === 3 && !form.isActiveRegion(region)" ng-class="{'btn-Primary': form.isActiveRegion(region)}">{{region}}</button>
              </div>
            </div>
            <div class="row">
              <div class="col-sm-2 col-xs-2">
                <button type="submit" class="pull-center faded" ng-disabled="form.newRegionCount() === 0" ng-click="addSalesPerson()" ng-class="{'btn-Primary': form.newRegionCount() > 0, faded: form.newRegionCount() === 0}">Save</button>
              </div>    
            </div>
         </form>

        <div class="appointmentList"> 
          <table class='table'>
              <thead>
                  <tr>
                      <th style="width: 70%">Name</th>
                      <th style="text-align: right">Priority</th>
                      <th style="text-align: right"></th>
                  </tr>
              </thead>
              <tbody>
                  <tr ng-repeat="(key, appointment) in appointments">
                      <td>{{appointment.name}}</td>
                      <td style="text-align: right">
                          {{appointment.priorityFloor}}
                      </td>
                      <td style="text-align: right">
                          <button ng-click="moveUp(key)" ng-show="!$first">/\</button>
                          <button ng-click="moveDown(key)" ng-show="!$last">\/</button>
                          <button ng-click="delete(key)">X</button>
                      </td>
                  </tr>
              </tbody>
          </table>
        </div>
      </div>

      <footer></footer>

    </div>
  </body>
</html>
